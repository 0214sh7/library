---
title: "座標圧縮"
permalink: /posts/compress
writer: 0214sh7
layout: post
---

数列Dを与えると、数列の全ての2つの要素について大小関係が維持される・かつ要素の最大値が最小になるように要素を非負整数に置き換える

計算量はN=D.sizeとして、Ο(NlogN)

[github](https://github.com/0214sh7/procon-library/blob/master/algorithm/coordinate%20compression.cpp)

~~~
std::vector<int> compress(std::vector<int> D){
    /*
    Copyright (c) 2020 0214sh7
    https://github.com/0214sh7/library/
    */
    std::map<int,int> G;
    std::vector<int> E,r;
    int s=D.size();
    for(int i=0;i<s;i++){
        E.push_back(D[i]);
    }
    sort(E.begin(),E.end());
    int t=0;
    for(int i=0;i<s;i++){
        if(i!=0 && E[i]!=E[i-1]){
            t++;
        }
        G[E[i]]=t;
    }
    for(int i=0;i<s;i++){
        r.push_back(G[D[i]]);
    }
    return r;
}
~~~